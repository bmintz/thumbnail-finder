<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Thumbnail Finder API Docs</title>
	<style>
p {
	font:15px/22px arial,sans-serif}
code {
	font-style: italic
	font: 15px/22px arial,sans-serif}
img {
	vertical-align: top;}
	</style>
</head>
<body>
	<h1>Thumbnail Finder API Docs</h1>
	<h2>Base URL</h2>
	<p>
		The base URL for all requests is
		{% set base_url = 'https://thumbnails.nickw.io/api/v{}/'.format(version) %}
		<code>{{ base_url }}</code>
	</p>
	<h2>Endpoints</h2><!--keep it plural in case we add more-->
	<h3><code>thumbnail</code></h3>
	<p>
		<h4>Parameters</h4>
		<ul><!--again, plural-->
			<li><code>page_url</code>.
			the URL of the page to scrape.<br></li>
			<li><code>preview</code>. acceptable values: <code>true</code> or not specified.
			When present, the image itself is proxied,
			and an appropriate Content-Type is set.</li>
		</ul>
		<h4>Response format</h4>
		<code>text/plain</code>.<br>
		An image URL, or <code>"null"</code> if not found.<br>
		<h4>Examples</h4>
		<ul>
			<li>
				<code>{{ base_url }}thumbnail?page_url=https://www.stephanboyer.com/post/134/my-unusual-hobby</code><br>
				Expected output: <code>https://static.stephanboyer.com/coq_ide.png</code>
			</li>
			<li>
				<code>{{ base_url }}thumbnail?page_url=https://www.youtube.com/watch?v=dQw4w9WgXcQ</code><br>
				Expected output: <code>https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg</code>
			</li>
			<li>
				<code>{{ base_url }}thumbnail?page_url=https://osqp.readthedocs.io/en/latest/</code><br>
				Expected output: <code>http://osqp.readthedocs.io/en/latest/_static/img/logo.png</code>
			</li>
			<li>
				<code>{{ base_url }}thumbnail?page_url=https://news.ycombinator.com/</code><br>
				Expected output: <code>null</code>
			</li>

			<li>
				<code>{{ base_url }}thumbnail?page_url=https://news.ycombinator.com/&preview=true</code><br>
				Expected output: <code>null</code>
			</li>
			<li>
				<code>{{ base_url }}thumbnail?page_url=https://news.ycombinator.com/&preview</code><br>
				Expected output: <code>null</code>
			</li>
			<li>
				<code>{{ base_url }}thumbnail?page_url=https%3A//duckduckgo.com/%3Fq%3Dgoogle%2Bsucks%26ia%3Dnews&preview</code><br>
				Expected output: <img src="{{ base_url }}thumbnail?page_url=https%3A//duckduckgo.com/%3Fq%3Dgoogle%2Bsucks%26ia%3Dnews&preview">
			</li>
		</ul>
	</p>
	<h2>Source code/License</h2>
	You may find the source code <a href="https://github.com/bmintz/thumbnail-finder">on GitHub</a>.
	Pull requests are appreciated!
	<div id="license">
		<p>
			Thumbnail finder scrapes thumbnails from web pages<br>
			Copyright &copy; 2017 Benjamin Mintz and reddit Inc.
		</p>
		<p>
			This program is free software: you can redistribute it and/or modify
			it under the terms of the GNU Affero General Public License as
			published by the Free Software Foundation, version 3 of the License only.
		</p>
		<p>
			This program is distributed in the hope that it will be useful,
			but WITHOUT ANY WARRANTY; without even the implied warranty of
			MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
			GNU Affero General Public License for more details.
		</p>

		<p>
			You should have received a copy of the GNU Affero General Public License
			along with this program. If not, see
			<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
		</p>
	</div>
</body>
</html>
